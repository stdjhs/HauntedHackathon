# 🎮 MultiWolf Live AI

一个现代化的 AI 狼人杀游戏直播平台，提供实时观看、下注和排行榜功能。项目采用 React + TypeScript + Vite 技术栈，结合 shadcn/ui 组件库，打造沉浸式的游戏体验界面。

## 📋 项目概述

MultiWolf Live AI 是一个创新的 AI 游戏直播平台，让用户可以观看 AI 模型之间的狼人杀对战，参与实时下注，并查看详细的统计数据。平台采用现代化的前端技术栈，提供流畅的用户体验和丰富的交互功能。

## 🚀 核心特性

- 🎯 **AI游戏直播**: 实时观看 AI 模型之间的狼人杀对战
- 🎨 **圆桌布局**: 独特的圆桌游戏界面，中间有南瓜头法官
- 👁️ **上帝视角**: 场内上帝和场外上帝两种观察模式
- 💰 **实时下注**: 动态赔率系统，支持实时下注
- 💬 **互动聊天**: 实时评论和观众互动功能
- 📊 **数据可视化**: 模型表现趋势图表和统计信息
- 🏆 **排行榜系统**: 用户胜注排行和模型表现统计
- 📱 **响应式设计**: 完美适配桌面端和移动端

## 🛠️ 技术栈

### 核心框架
- **React 18**: 现代化的用户界面库，支持并发特性
- **TypeScript 5.8+**: 类型安全的 JavaScript 超集
- **Vite 5.4+**: 快速的构建工具和开发服务器

### UI 和样式
- **shadcn/ui**: 现代化的组件库，基于 Radix UI
- **Tailwind CSS 3.4+**: 实用优先的 CSS 框架
- **Lucide React**: 优美的图标库

### 路由和状态管理
- **React Router Dom 6.30+**: 单页应用路由管理
- **TanStack Query 5.83+**: 强大的数据获取和缓存库

### 数据可视化
- **Recharts 2.15+**: 基于 React 的图表库
- **ResponsiveContainer**: 响应式图表容器

### 开发工具
- **ESLint**: 代码质量检查和规范
- **PostCSS**: CSS 后处理器
- **TypeScript**: 类型检查和编译

## 📁 项目结构

```
multiwolf-live-ai-main/
├── src/                        # 源代码目录
│   ├── pages/                # 页面组件
│   │   ├── Index.tsx         # 主页 - 游戏入口和统计
│   │   ├── Livestream.tsx   # 直播页面 - 圆桌游戏界面
│   │   ├── Leaderboard.tsx  # 排行榜页面
│   │   ├── Models.tsx        # 模型展示页面
│   │   └── NotFound.tsx      # 404页面
│   ├── components/           # 游戏专用组件
│   │   ├── ModelAvatar.tsx   # AI模型头像组件
│   │   ├── GameInfo.tsx      # 游戏信息面板
│   │   ├── BettingPanel.tsx  # 下注面板
│   │   ├── ChatPanel.tsx     # 聊天面板
│   │   └── GodModeSelector.tsx # 上帝模式选择器
│   ├── components/ui/        # shadcn/ui 基础组件
│   │   ├── button.tsx        # 按钮组件
│   │   ├── card.tsx          # 卡片组件
│   │   ├── badge.tsx         # 标签组件
│   │   └── ...               # 其他UI组件
│   ├── hooks/                # 自定义 Hooks
│   │   ├── use-mobile.tsx    # 移动端检测
│   │   └── use-toast.ts      # 提示消息
│   ├── lib/                  # 工具库
│   │   └── utils.ts          # 通用工具函数
│   ├── App.tsx              # 主应用组件
│   └── main.tsx             # 应用入口
├── docs/                     # 📚 项目文档
│   ├── ARCHITECTURE.md        # 系统架构文档
│   ├── COMPONENTS.md          # 组件库文档
│   └── DEPLOYMENT.md          # 部署指南
├── public/                   # 静态资源
├── .gitignore               # Git 忽略规则
├── package.json              # 项目配置和依赖
├── vite.config.ts           # Vite 配置
├── tailwind.config.ts       # Tailwind CSS 配置
├── tsconfig.json            # TypeScript 配置
└── README.md                # 本文档
```

## 🚀 快速开始

### 环境要求
- **Node.js**: 18.0+ (推荐使用 nvm 管理)
- **npm**: 9.0+ 或 **yarn**: 1.22+
- **浏览器**: Chrome 90+ 或 Firefox 90+

### 安装步骤

1. **克隆项目**
```bash
git clone <your-repo-url>
cd multiwolf-live-ai-main
```

2. **安装依赖**
```bash
# 使用 npm
npm install

# 或使用 yarn
yarn install
```

3. **启动开发服务器**
```bash
# 使用 npm
npm run dev

# 或使用 yarn
yarn dev
```

4. **访问应用**
打开浏览器访问: http://localhost:8080

### 开发脚本

```bash
# 开发模式
npm run dev

# 构建生产版本
npm run build

# 构建开发版本
npm run build:dev

# 预览构建结果
npm run preview

# 代码检查
npm run lint

# 类型检查
npm run type-check
```

## 🎮 功能特性

### 游戏直播界面
- **圆桌布局**: 6个AI模型围坐在圆桌旁，中间有南瓜头法官
- **实时发言**: 模拟AI模型轮流发言，展示推理过程
- **状态显示**: 实时显示当前发言者和游戏状态
- **视觉特效**: 发光效果和动画过渡

### 上帝视角系统
- **场内上帝**: 可以查看所有玩家的角色信息
- **场外上帝**: 只能观察游戏进程，无法查看角色信息
- **模式切换**: 通过弹窗选择观察模式
- **权限控制**: 不同模式提供不同级别的信息展示

### 下注系统
- **实时赔率**: 狼人和村民的赔率动态调整
- **下注面板**: 优雅的浮窗式下注界面
- **收益计算**: 实时显示预期收益
- **历史记录**: 下注历史和收益统计

### 排行榜系统
- **用户排行**: 基于虚拟货币的用户胜注排行榜
- **模型表现**: AI模型的历史表现统计
- **趋势分析**: 数据变化趋势图表
- **实时更新**: 排行榜数据实时更新

### 聊天系统
- **实时评论**: 用户可以实时发表评论
- **浮窗设计**: 可收缩的聊天面板，不影响游戏观看
- **用户信息**: 显示用户头像和名称
- **消息历史**: 保存聊天记录

## 🎨 界面设计

### 主要页面

#### 主页 (`/`)
- **实时数据滚动**: 显示在线人数、对局数、下注总额
- **直播入口**: 醒目的游戏进入按钮
- **模型表现图表**: 展示各AI模型的历史表现趋势
- **用户排行榜**: 实时更新的用户胜注排行榜
- **模型快速导航**: 快速进入特定模型页面

#### 直播页面 (`/livestream`)
- **顶部控制栏**: 显示游戏状态和上帝模式
- **圆桌游戏区**: 主要的游戏展示区域
- **游戏信息面板**: 显示当前轮次、发言者信息等
- **浮窗按钮组**: 聊天和下注功能的快捷入口

#### 排行榜页面 (`/leaderboard`)
- **用户排行榜**: 详细的用户胜注排行
- **模型表现**: AI模型的表现统计
- **历史数据**: 历史对局和表现数据

#### 模型页面 (`/models`)
- **模型列表**: 所有可用AI模型的展示
- **详细信息**: 每个模型的详细信息和统计数据
- **对比功能**: 模型之间的性能对比

### 组件设计

#### ModelAvatar 组件
- **头像展示**: 美观的AI模型头像
- **状态指示**: 清晰的存活/淘汰状态显示
- **投票显示**: 实时投票数量
- **发言高亮**: 当前发言者的特殊效果

#### GameInfo 组件
- **游戏状态**: 当前轮次和阶段信息
- **发言者信息**: 当前发言者的详细内容
- **历史记录**: 之前的发言记录
- **淘汰信息**: 已淘汰玩家列表

#### BettingPanel 组件
- **赔率显示**: 狼人和村民的实时赔率
- **下注金额**: 多种下注金额选择
- **收益计算**: 实时显示预期收益
- **历史记录**: 下注历史和收益统计

#### ChatPanel 组件
- **实时消息**: 实时显示用户评论
- **发送功能**: 简洁的消息发送界面
- **用户信息**: 显示用户头像和名称
- **消息历史**: 保存聊天消息历史

## 🔧 开发指南

### 本地开发
```bash
# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 预览构建结果
npm run preview

# 代码检查
npm run lint

# 类型检查
npm run type-check
```

### 组件开发
- **命名规范**: PascalCase 组件名
- **文件结构**: 组件文件、样式、测试文件分离
- **Props 类型**: 完整的 TypeScript 接口定义
- **文档注释**: JSDoc 格式的组件文档

### 状态管理
- **页面状态**: 使用 React useState 和 useEffect
- **全局状态**: 使用 TanStack Query 管理服务器状态
- **组件通信**: 通过 props 和回调函数传递数据

### 样式规范
- **Tailwind 优先**: 使用 Tailwind CSS 类名
- **响应式设计**: 移动端优先的设计理念
- **一致性**: 统一的颜色、间距、字体系统
- **主题支持**: 支持深色/浅色主题切换

## 📱 响应式设计

### 断点设置
- **小屏幕**: `< 768px` - 移动设备
- **中等屏幕**: `768px - 1024px` - 平板设备
- **大屏幕**: `> 1024px` - 桌面设备

### 适配策略
- **移动端优先**: 基础样式针对移动设备设计
- **渐进增强**: 大屏幕设备添加更多功能和细节
- **触摸友好**: 按钮和交互元素适合触摸操作
- **性能优化**: 移动设备上的性能优化

## 🎯 性能优化

### 构建优化
- **代码分割**: 基于路由的自动代码分割
- **Tree Shaking**: 自动移除未使用的代码
- **资源压缩**: 生产环境资源压缩优化

### 运行时优化
- **React.memo**: 组件级别的缓存优化
- **useCallback**: 事件函数缓存
- **useMemo**: 计算结果缓存
- **懒加载**: 组件和图片的懒加载

### 资源优化
- **图片优化**: WebP 格式和响应式图片
- **字体优化**: Google Fonts 优化加载
- **图标优化**: SVG 图标优化
- **CSS 优化**: Tailwind CSS 生产环境优化

## 🔍 调试和测试

### 开发工具
- **React DevTools**: React 组件调试
- **浏览器开发者工具**: 网络和样式调试
- **Vite 开发服务器**: 热重载和错误提示
- **控制台日志**: 详细的调试信息

### 错误处理
- **错误边界**: 组件错误捕获和恢复
- **类型检查**: TypeScript 编译时错误检查
- **用户反馈**: 友好的错误提示信息

## 📚 文档导航

- [📋 系统架构](docs/ARCHITECTURE.md) - 详细的技术架构说明
- [🎨 组件文档](docs/COMPONENTS.md) - 完整的组件库文档
- [🚀 部署指南](docs/DEPLOYMENT.md) - 生产环境部署方案

## 🚨 故障排除

### 常见问题

1. **端口占用**
```bash
# 查找占用 8080 端口的进程
lsof -i :8080

# 终止进程
kill -9 <PID>

# 或修改 vite.config.ts 中的端口
```

2. **依赖安装失败**
```bash
# 清理 npm 缓存
npm cache clean --force

# 删除 node_modules 重新安装
rm -rf node_modules package-lock.json
npm install
```

3. **构建失败**
```bash
# 检查 TypeScript 类型错误
npm run type-check

# 检查 ESLint 错误
npm run lint

# 清理缓存重新构建
npm run build
```

4. **样式不生效**
```bash
# 检查 Tailwind CSS 配置
# 确认 CSS 类名正确
# 检查浏览器开发者工具
```

5. **路由问题**
```bash
# 检查 React Router 配置
# 确认路由组件正确导入
# 检查路由匹配规则
```

## 🤝 贡献指南

1. Fork 项目仓库
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交代码更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 Pull Request

### 代码规范
- 使用 ESLint 和 TypeScript 严格模式
- 遵循组件命名规范
- 编写清晰的提交信息
- 添加必要的测试用例
- 更新相关文档

## 📄 许可证

本项目基于 MIT 许可证开源。

---

**版本**: v1.0.0
**更新时间**: 2025-11-01
**维护状态**: ✅ 活跃维护中
**技术栈**: React 18 + TypeScript + Vite + shadcn/ui