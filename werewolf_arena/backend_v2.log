INFO:     Will watch for changes in these directories: ['/Users/admin/Project/HauntedHackathon/werewolf_arena/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [78143] using WatchFiles
INFO:     Started server process [78146]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
‚úÖ Â∑≤Âä†ËΩΩÂª∂ËøüÈÖçÁΩÆ: /Users/admin/Project/HauntedHackathon/werewolf_arena/backend/src/config/timing_config.yaml
üìä Sequence Manager initialized
üöÄ Starting Werewolf Arena API...
üìù Environment: development
üîß Debug mode: False
ü§ñ LLM Providers Health: {'glm': True}
‚úÖ Global LLM client initialized successfully
üéÆ Ready to start games!
INFO:     127.0.0.1:59428 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59427 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59462 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59758 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59870 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59988 - "OPTIONS /api/v1/games/start HTTP/1.1" 200 OK
Model conversion: glmz1-flash -> glm/GLM-Z1-Flash
Model conversion: glmz1-flash -> glm/GLM-Z1-Flash
üéÆ Â∫îÁî®Ê∏∏ÊàèÊ®°Âºè normalÔºåÂª∂ËøüÂÄçÊï∞: 1.0x
üéÆ Ê∏∏ÊàèÊ®°Âºè: normal (Âª∂ËøüÂÄçÊï∞: 1.0x)
INFO:     127.0.0.1:59988 - "POST /api/v1/games/start HTTP/1.1" 201 Created
INFO:     ('127.0.0.1', 60043) - "WebSocket /ws/session_20251031_131714" [accepted]
INFO:     connection open
INFO:     ('127.0.0.1', 60045) - "WebSocket /ws/session_20251031_131714" [accepted]
INFO:     connection open
Task was destroyed but it is pending!
task: <Task pending name='Task-41' coro=<RealtimeGameLogger._write_to_file() running at /Users/admin/Project/HauntedHackathon/werewolf_arena/backend/src/services/logger/realtime_logger.py:146> wait_for=<Future finished result=True>>
STARTING ROUND: 0
The Werewolves are picking someone to remove from the game.
Attempt 1/3 failed: Completions.create() got an unexpected keyword argument 'system_message'
Attempt 2/3 failed: Completions.create() got an unexpected keyword argument 'system_message'
Attempt 3/3 failed: Completions.create() got an unexpected keyword argument 'system_message'
Warning: Jackson (Werewolf) did not return a valid eliminate target, using default
Jackson eliminated Dan
The Doctor is protecting someone.
Attempt 1/3 failed: Completions.create() got an unexpected keyword argument 'system_message'
Attempt 2/3 failed: Completions.create() got an unexpected keyword argument 'system_message'
Attempt 3/3 failed: Completions.create() got an unexpected keyword argument 'system_message'
Warning: David failed to choose protection target, randomly selected David
David protected David
The Seer is investigating someone.
WebSocket connected for session session_20251031_131714. Total connections: 1
[RealtimeLogger] New subscriber for session session_20251031_131714
WebSocket connected for session session_20251031_131714. Total connections: 2
[RealtimeLogger] New subscriber for session session_20251031_131714
Attempt 1/3 failed: Completions.create() got an unexpected keyword argument 'system_message'
Attempt 2/3 failed: Completions.create() got an unexpected keyword argument 'system_message'
Attempt 3/3 failed: Completions.create() got an unexpected keyword argument 'system_message'
Warning: Harold failed to choose investigation target, randomly selected Jacob

Player Dan not in current players: ['Harold', 'David', 'Jackson', 'Leah', 'Jacob']
Player Dan not in current players: ['Harold', 'David', 'Jackson', 'Leah', 'Jacob']
Player Dan not in current players: ['Harold', 'David', 'Jackson', 'Leah', 'Jacob']
Player Dan not in current players: ['Harold', 'David', 'Jackson', 'Leah', 'Jacob']
The Werewolves removed Dan from the game during the night.
Checking for a winner after Night Phase.
The Players are debating and voting.
Error during bidding for Leah: invalid literal for int() with base 10: 'Werewolves'
Error during bidding for Jacob: invalid literal for int() with base 10: 'Werewolves'
Error during bidding for Jackson: invalid literal for int() with base 10: 'the'
Error during bidding for David: invalid literal for int() with base 10: 'Werewolves'
Error during bidding for Harold: list index out of range
Error during debate for David: invalid literal for int() with base 10: 'Werewolves'
David (Doctor): I think we need to be careful and look for clues.
[RealtimeLogger] Initialized session session_20251031_131714, log file: logs/session_20251031_131714/realtime_logs.jsonl
[RealtimeLogger] session_20251031_131714 [action] David ÂèëË®Ä: I think we need to be careful and look for clues.
Error during voting for Leah: invalid literal for int() with base 10: 'Werewolves'
Error during voting for Jacob: invalid literal for int() with base 10: 'Werewolves'
Error during voting for Jackson: invalid literal for int() with base 10: 'the'
Error during voting for David: invalid literal for int() with base 10: 'Werewolves'
Error during voting for Harold: list index out of range
[RealtimeLogger] session_20251031_131714 [vote] Jacob ÊäïÁ•®Áªô Leah
[RealtimeLogger] session_20251031_131714 [vote] Jackson ÊäïÁ•®Áªô Leah
[RealtimeLogger] session_20251031_131714 [vote] Leah ÊäïÁ•®Áªô Jacob
[RealtimeLogger] session_20251031_131714 [vote] Harold ÊäïÁ•®Áªô Leah
[RealtimeLogger] Error writing log to file: <asyncio.locks.Lock object at 0x10b654f90 [locked, waiters:1]> is bound to a different event loop
[RealtimeLogger] Error writing log to file: <asyncio.locks.Lock object at 0x10b654f90 [locked, waiters:1]> is bound to a different event loop
[RealtimeLogger] session_20251031_131714 [vote] David ÊäïÁ•®Áªô Leah
[RealtimeLogger] Error writing log to file: Event loop is closed
Error during bidding for Leah: invalid literal for int() with base 10: 'Werewolves'
Error during bidding for Jacob: invalid literal for int() with base 10: 'Werewolves'
Error during bidding for Jackson: invalid literal for int() with base 10: 'the'
Error during bidding for Harold: list index out of range
Error during debate for Jacob: invalid literal for int() with base 10: 'Werewolves'
Jacob (Villager): I think we need to be careful and look for clues.
INFO:     127.0.0.1:60061 - "GET /health HTTP/1.1" 200 OK
[RealtimeLogger] session_20251031_131714 [action] Jacob ÂèëË®Ä: I think we need to be careful and look for clues.
Error during voting for Leah: invalid literal for int() with base 10: 'Werewolves'
Error during voting for Jacob: invalid literal for int() with base 10: 'Werewolves'
Error during voting for Jackson: invalid literal for int() with base 10: 'the'
Error during voting for David: invalid literal for int() with base 10: 'Werewolves'
Error during voting for Harold: list index out of range
[RealtimeLogger] session_20251031_131714 [vote] Leah ÊäïÁ•®Áªô Jacob
[RealtimeLogger] session_20251031_131714 [vote] Jacob ÊäïÁ•®Áªô Leah
[RealtimeLogger] session_20251031_131714 [vote] Jackson ÊäïÁ•®Áªô Leah
[RealtimeLogger] Error writing log to file: <asyncio.locks.Lock object at 0x10b654f90 [locked]> is bound to a different event loop
[RealtimeLogger] Error writing log to file: <asyncio.locks.Lock object at 0x10b654f90 [locked]> is bound to a different event loop
[RealtimeLogger] session_20251031_131714 [vote] David ÊäïÁ•®Áªô Leah
[RealtimeLogger] session_20251031_131714 [vote] Harold ÊäïÁ•®Áªô Leah
[RealtimeLogger] Error writing log to file: <asyncio.locks.Lock object at 0x10b654f90 [locked]> is bound to a different event loop
Leah voted to remove Jacob
Jacob voted to remove Leah
Jackson voted to remove Leah
David voted to remove Leah
Harold voted to remove Leah

Player Leah not in current players: ['Harold', 'David', 'Jackson', 'Jacob']
Player Leah not in current players: ['Harold', 'David', 'Jackson', 'Jacob']
Player Leah not in current players: ['Harold', 'David', 'Jackson', 'Jacob']
The majority voted to remove Leah from the game.
Checking for a winner after Day Phase.
The Players are summarizing the debate.
Error during summary for Jacob: invalid literal for int() with base 10: 'Werewolves'
Jacob summary: I need to think about what happened today and analyze the situation carefully.
Error during summary for Jackson: invalid literal for int() with base 10: 'the'
Jackson summary: I need to think about what happened today and analyze the situation carefully.
Error during summary for David: invalid literal for int() with base 10: 'Werewolves'
David summary: I need to think about what happened today and analyze the situation carefully.
Error during summary for Harold: list index out of range
Harold summary: I need to think about what happened today and analyze the situation carefully.
Round 0 is complete.
STARTING ROUND: 1
The Werewolves are picking someone to remove from the game.
Error during eliminate action for Jackson: invalid literal for int() with base 10: 'the'
Jackson eliminated Harold
The Doctor is protecting someone.
Game error in session session_20251031_131714: invalid literal for int() with base 10: 'Werewolves'
INFO:     127.0.0.1:60192 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60317 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60425 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60534 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60623 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60771 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60884 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61011 - "GET /health HTTP/1.1" 200 OK
