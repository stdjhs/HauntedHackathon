# å‘è¨€é«˜äº®è°ƒè¯•æŒ‡å—

## ðŸ” é—®é¢˜å®šä½æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šæ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·

1. æ‰“å¼€æ¸¸æˆé¡µé¢
2. æŒ‰ `F12` æˆ–å³é”® â†’ æ£€æŸ¥ â†’ æ‰“å¼€å¼€å‘è€…å·¥å…·
3. ç‚¹å‡» **Console** æ ‡ç­¾é¡µ

### ç¬¬äºŒæ­¥ï¼šè§‚å¯Ÿå…³é”®æ—¥å¿—

åœ¨æ¸¸æˆä¸­å¼€å§‹æ–°çš„ä¸€å±€ï¼Œç„¶åŽè§‚å¯ŸæŽ§åˆ¶å°è¾“å‡ºã€‚ä½ åº”è¯¥çœ‹åˆ°ä»¥ä¸‹å…³é”®æ—¥å¿—ï¼š

#### ðŸŸ¢ æ­£å¸¸æƒ…å†µçš„æ—¥å¿—é¡ºåºï¼š

1. **WebSocketè¿žæŽ¥å»ºç«‹**
   ```
   WebSocketè¿žæŽ¥å·²å»ºç«‹
   [WebSocket] æ”¶åˆ°æ¶ˆæ¯ç±»åž‹: connection_established
   ```

2. **æ¸¸æˆæ›´æ–°å’ŒçŽ©å®¶åˆå§‹åŒ–**
   ```
   [WebSocket] æ”¶åˆ°æ¶ˆæ¯ç±»åž‹: game_update
   [çŽ©å®¶æ•°æ®] åˆå§‹åŒ–çŽ©å®¶: ID=X, Name=XXX, Role=XXX
   [çŽ©å®¶æ•°æ®] æ€»å…±åˆå§‹åŒ–äº† 6 ä¸ªçŽ©å®¶
   ```

3. **é˜¶æ®µå˜æ›´**
   ```
   [WebSocket] æ”¶åˆ°æ¶ˆæ¯ç±»åž‹: phase_change
   [é˜¶æ®µå˜æ›´] é˜¶æ®µ: debate, è½®æ•°: 1
   [é˜¶æ®µå˜æ›´] è¿›å…¥å‘è¨€é˜¶æ®µï¼Œç­‰å¾…å‘è¨€
   ```

4. **å‘è¨€å¤„ç†ï¼ˆå…³é”®éƒ¨åˆ†ï¼‰**
   ```
   [WebSocket] æ”¶åˆ°æ¶ˆæ¯ç±»åž‹: debate_turn
   [WebSocket] å¤„ç†å‘è¨€: {player_name: "XXX", dialogue: "XXX"}
   [å‘è¨€å¤„ç†] æ”¶åˆ°å‘è¨€æ¶ˆæ¯: XXX
   [å‘è¨€å¤„ç†] å½“å‰çŽ©å®¶åˆ—è¡¨: [{id: 1, name: "XXX"}, {id: 2, name: "YYY"}, ...]
   [å‘è¨€é«˜äº®] ç²¾ç¡®åŒ¹é…æˆåŠŸ: XXX (ç´¢å¼•: X)
   [å‘è¨€é«˜äº®] XXX (ç´¢å¼•: X) å¼€å§‹å‘è¨€ï¼Œå¤´åƒåº”è¯¥äº®èµ·
   ```

#### ðŸ”´ å¸¸è§é—®é¢˜çš„æ—¥å¿—è¡¨çŽ°ï¼š

**é—®é¢˜1: çŽ©å®¶åç§°ä¸åŒ¹é…**
```
[å‘è¨€å¤„ç†] æ”¶åˆ°å‘è¨€æ¶ˆæ¯: Hunyuan-A13B
[å‘è¨€å¤„ç†] å½“å‰çŽ©å®¶åˆ—è¡¨: [{id: 1, name: "Hunyuan A13B"}, ...]
[å‘è¨€é«˜äº®] å¿½ç•¥å¤§å°å†™åŒ¹é…æˆåŠŸ: Hunyuan-A13B -> Hunyuan A13B (ç´¢å¼•: 0)
```
æˆ–è€…ï¼š
```
[å‘è¨€é«˜äº®] æœªæ‰¾åˆ°çŽ©å®¶: Hunyuan-A13Bï¼ŒçŽ©å®¶åˆ—è¡¨: ["Hunyuan A13B", "GLM 4.6", ...]
```

**é—®é¢˜2: çŽ©å®¶æ•°ç»„æœªåˆå§‹åŒ–**
```
[å‘è¨€å¤„ç†] æ”¶åˆ°å‘è¨€æ¶ˆæ¯: XXX
[å‘è¨€å¤„ç†] å½“å‰çŽ©å®¶åˆ—è¡¨: []
[å‘è¨€é«˜äº®] æœªæ‰¾åˆ°çŽ©å®¶: XXXï¼ŒçŽ©å®¶åˆ—è¡¨: []
```

**é—®é¢˜3: æœªæ”¶åˆ°å‘è¨€æ¶ˆæ¯**
```
// æ²¡æœ‰ [WebSocket] æ”¶åˆ°æ¶ˆæ¯ç±»åž‹: debate_turn çš„æ—¥å¿—
// å¯èƒ½WebSocketè¿žæŽ¥æœ‰é—®é¢˜æˆ–åŽç«¯æ¶ˆæ¯å‘é€å¤±è´¥
```

### ç¬¬ä¸‰æ­¥ï¼šæ ¹æ®æ—¥å¿—åˆ†æžé—®é¢˜

#### æƒ…å†µA: çœ‹åˆ°äº†å®Œæ•´çš„æ—¥å¿—é“¾ï¼Œä½†å¤´åƒè¿˜æ˜¯ä¸äº®

1. æ£€æŸ¥ `ModelAvatar` ç»„ä»¶çš„ `isActive` å±žæ€§
2. åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ **Elements** æ ‡ç­¾é¡µä¸­æ£€æŸ¥å¯¹åº”å¤´åƒå…ƒç´ 
3. æŸ¥çœ‹æ˜¯å¦æœ‰ `border-amber-400` ç­‰é«˜äº®æ ·å¼ç±»

#### æƒ…å†µB: çŽ©å®¶åç§°ä¸åŒ¹é…

å¦‚æžœçœ‹åˆ°ï¼š
```
[å‘è¨€é«˜äº®] æœªæ‰¾åˆ°çŽ©å®¶: XXXï¼ŒçŽ©å®¶åˆ—è¡¨: ["YYY", "ZZZ", ...]
```

**åŽŸå› **: WebSocketæ¶ˆæ¯ä¸­çš„çŽ©å®¶åç§°ä¸Žå‰ç«¯çŽ©å®¶æ•°ç»„ä¸­çš„åç§°æ ¼å¼ä¸ä¸€è‡´

**è§£å†³æ–¹æ¡ˆ**: éœ€è¦æ·»åŠ åç§°æ ‡å‡†åŒ–å¤„ç†

#### æƒ…å†µC: çŽ©å®¶æ•°ç»„ä¸ºç©º

å¦‚æžœçœ‹åˆ°ï¼š
```
[å‘è¨€å¤„ç†] å½“å‰çŽ©å®¶åˆ—è¡¨: []
```

**åŽŸå› **: `game_update` æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼ŒçŽ©å®¶æ•°æ®æœªæ­£ç¡®åˆå§‹åŒ–

**è§£å†³æ–¹æ¡ˆ**: éœ€è¦æ£€æŸ¥ `handleGameUpdate` å‡½æ•°

#### æƒ…å†µD: æ²¡æœ‰æ”¶åˆ°å‘è¨€æ¶ˆæ¯

å¦‚æžœçœ‹ä¸åˆ°ï¼š
```
[WebSocket] æ”¶åˆ°æ¶ˆæ¯ç±»åž‹: debate_turn
```

**åŽŸå› **:
1. WebSocketè¿žæŽ¥é—®é¢˜
2. åŽç«¯æ¶ˆæ¯å‘é€å¤±è´¥
3. å‰ç«¯æ¶ˆæ¯è§£æžå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥WebSocketè¿žæŽ¥çŠ¶æ€å’Œæ¶ˆæ¯æ ¼å¼

### ç¬¬å››æ­¥ï¼šæ‰‹åŠ¨æµ‹è¯•

å¦‚æžœè‡ªåŠ¨å®šä½å›°éš¾ï¼Œå¯ä»¥æ‰‹åŠ¨æµ‹è¯•ï¼š

1. **åœ¨æµè§ˆå™¨æŽ§åˆ¶å°ä¸­æ‰§è¡Œ**ï¼š
   ```javascript
   // æ£€æŸ¥å½“å‰çŽ©å®¶çŠ¶æ€
   console.log('å½“å‰çŽ©å®¶:', window.players);
   console.log('å½“å‰å‘è¨€è€…ç´¢å¼•:', window.currentSpeaker);
   console.log('å‘è¨€è€…åç§°:', window.currentSpeakerName);
   ```

2. **æ‰‹åŠ¨è§¦å‘å‘è¨€é«˜äº®**ï¼š
   ```javascript
   // æ‰‹åŠ¨è®¾ç½®ç¬¬ä¸€ä¸ªçŽ©å®¶ä¸ºå‘è¨€è€…
   setCurrentSpeaker(0);
   ```

### ðŸ“‹ é—®é¢˜æŠ¥å‘Šæ¨¡æ¿

å¦‚æžœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **å®Œæ•´çš„æŽ§åˆ¶å°æ—¥å¿—**ï¼ˆä»Žæ¸¸æˆå¼€å§‹åˆ°å‘è¨€é˜¶æ®µï¼‰
2. **ç½‘ç»œé¢æ¿çš„WebSocketæ¶ˆæ¯**ï¼š
   - æ‰“å¼€ **Network** æ ‡ç­¾é¡µ
   - ç­›é€‰ **WS** (WebSocket) æ¶ˆæ¯
   - æŸ¥çœ‹ `debate_turn` ç±»åž‹çš„æ¶ˆæ¯å†…å®¹
3. **å½“å‰çŽ©å®¶åˆ—è¡¨å’Œå‘è¨€æ¶ˆæ¯çš„å¯¹æ¯”**

### ðŸ› ï¸ ä¸´æ—¶è§£å†³æ–¹æ¡ˆ

å¦‚æžœæ€¥éœ€è§£å†³ï¼Œå¯ä»¥æ‰‹åŠ¨ä¿®å¤ï¼š

1. **åˆ·æ–°é¡µé¢**é‡æ–°å»ºç«‹è¿žæŽ¥
2. **æ£€æŸ¥åŽç«¯æ—¥å¿—**ç¡®è®¤æ¶ˆæ¯å‘é€æˆåŠŸ
3. **åœ¨æµè§ˆå™¨æŽ§åˆ¶å°æ‰‹åŠ¨è®¾ç½®å‘è¨€è€…**æµ‹è¯•å¤´åƒé«˜äº®æ•ˆæžœ

---

## ðŸ’¡ è°ƒè¯•æŠ€å·§

1. **ä½¿ç”¨ `console.table` æŸ¥çœ‹çŽ©å®¶æ•°ç»„**ï¼š
   ```javascript
   console.table(players);
   ```

2. **å®žæ—¶ç›‘æŽ§WebSocketæ¶ˆæ¯**ï¼š
   ```javascript
   // åœ¨æŽ§åˆ¶å°è¿è¡Œè¿™æ®µä»£ç ç›‘æŽ§æ‰€æœ‰WebSocketæ¶ˆæ¯
   const originalLog = console.log;
   console.log = function(...args) {
     if (args[0] && args[0].includes && args[0].includes('[WebSocket]')) {
       originalLog.apply(console, ['ðŸ”µ', ...args]);
     } else {
       originalLog.apply(console, args);
     }
   };
   ```

3. **é«˜äº®æ˜¾ç¤ºå½“å‰å‘è¨€è€…**ï¼š
   ```javascript
   // æ£€æŸ¥DOMå…ƒç´ 
   document.querySelectorAll('.ModelAvatar').forEach((el, index) => {
     if (index === currentSpeaker) {
       el.style.border = '3px solid red';
     }
   });
   ```